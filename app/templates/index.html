{% extends 'base.html' %}


{% block title%}
Расписание
{% endblock %}


{% block main %}
    <main>
          <nav>
              <div class="nav nav-tabs" id="nav-tab" role="tablist">
                <button class="nav-link active" id="nav-student-tab" data-bs-toggle="tab" data-bs-target="#nav-student" type="button" role="tab" aria-controls="nav-student" aria-selected="true">Студент</button>
              </div>
          </nav>
          <div class="tab-content" id="nav-tabContent">
            <div class="tab-pane fade show active" id="nav-student" role="tabpanel" aria-labelledby="nav-student-tab">
              <div class="accordion accordion-flush" id="accordionStudent">
                <div class="accordion-item">
                    <h2 class="accordion-header" id="flush-divisionHeader">
                      <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-divisions" aria-expanded="false" aria-controls="flush-divisions">
                        Факультет/Институт
                      </button>
                    </h2>
                    <div id="flush-divisions" class="accordion-collapse collapse" aria-labelledby="flush-headingOne" data-bs-parent="#accordionStudent">
                      <div class="accordion-body" id="divisions">
                        {% if divisions %}
                            {% for division in divisions %}
                            <button class="btn btn-dark mt-1" id="division" value={{ division.idDivision }}>{{ division.shortTitle }}</button>
                            {% endfor %}
                        {% endif %}
                      </div>
                    </div>
                </div>
                <div class="accordion-item">
                    <h2 class="accordion-header" id="flush-kursHeader">
                      <button class="accordion-button collapsed" id="aKurs" type="button" data-bs-toggle="collapse" data-bs-target="#flush-kurs" aria-expanded="false" aria-controls="flush-kurs">
                        Курс
                      </button>
                    </h2>
                    <div id="flush-kurs" class="accordion-collapse collapse" aria-labelledby="flush-headingTwo" data-bs-parent="#accordionStudent">
                      <div class="accordion-body" id="kurs">

                      </div>
                    </div>
                </div>
                <div class="accordion-item">
                    <h2 class="accordion-header" id="flush-groupHeader">
                      <button class="accordion-button collapsed" id="aGroup" type="button" data-bs-toggle="collapse" data-bs-target="#flush-group" aria-expanded="false" aria-controls="flush-group">
                        Группа
                      </button>
                    </h2>
                    <div id="flush-group" class="accordion-collapse collapse" aria-labelledby="flush-headingThree" data-bs-parent="#accordionStudent">
                      <div class="accordion-body" id="group">

                      </div>
                    </div>
                </div>
              </div>
            </div>
          </div>
          <div id="tableforstuds">

          </div>

      </main>
{% endblock %}


{% block bartitle %}
Расписание
{% endblock %}


{% block modal %}
    <form action="{{ url_for('write_schedule_to_calendar') }}" method="post">
                  <div class="modal-body">

                          <div id="calendarItems">
                              <label for="calendarID" class="form-label">Целевой календарь</label>
                              <select class="form-select" id="calendarID" name="calendarID" aria-label="Default select example">
                              </select>
                          </div>

                          <label for="subgroup" class="form-label">Подгруппа</label>
                          <select class="form-select" id="subgroup" name="subgroup" aria-label="Default select example">
                              <option selected value="0">...</option>
                              <option value="1">Первая</option>
                              <option value="2">Вторая</option>
                          </select>

                         <div id="overwriteEvents">

                         </div>

                  </div>
                  <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" id="cancelExport">Отмена</button>
                    <button type="submit" id="studsExport" class="btn btn-primary">Экспорт</button>
                  </div>
              </form>
{% endblock %}

{% block script %}
    <script type="text/javascript" src="{{ url_for('static', filename='js/schedule.js') }}"></script>
{% endblock %}
